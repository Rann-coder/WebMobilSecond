{% set page_css = ['../css/css-admin/header.css', '../css/css-admin/admin-add-car.css', '../css/css-admin/footer.css'] %}
{% include '_header-admin.twig.html' %}

<header class="admin-header">
    <h1>Review Data Mobil</h1>
    <div class="header-actions">
        <div class="header-actions">
    <a href="admin-home.php" class="btn-secondary">← Kembali</a>
    <a href="admin-home.php" class="btn-primary" style="margin-left: 10px;">✔ Sudah Direview</a>
</div>

    </div>
</header>

<section class="admin-content">
    {% if car %}
        <div class="form-section">
            <h2>Informasi Utama</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label>Nama Mobil</label>
                    <p>{{ car.name }}</p>
                </div>
                <div class="form-group">
                    <label>Merek</label>
                    <p>{{ car.brand_name }}</p>
                </div>
                <div class="form-group">
                    <label>Harga Cash (Rp)</label>
                    <p>Rp {{ car.price|number_format(0, ',', '.') }}</p>
                </div>
                <div class="form-group">
                    <label>Tahun Pembuatan</label>
                    <p>{{ car.year }}</p>
                </div>
                <div class="form-group">
                    <label>Warna</label>
                    <p>{{ car.color }}</p>
                </div>
                <div class="form-group">
                    <label>Status Penjualan</label>
                    <p>{{ car.status }}</p>
                </div>
            </div>
        </div>

        <div class="form-section">
            <h2>Spesifikasi Teknis</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label>Kilometer</label>
                    <p>{{ car.km }} km</p>
                </div>
                <div class="form-group">
                    <label>Tipe Bahan Bakar</label>
                    <p>{{ car.fuel_type }}</p>
                </div>
                <div class="form-group">
                    <label>CC Mesin</label>
                    <p>{{ car.engine_cc }} cc</p>
                </div>
                <div class="form-group">
                    <label>Tenaga (HP)</label>
                    <p>{{ car.horsepower }} HP</p>
                </div>
                <div class="form-group">
                    <label>Transmisi</label>
                    <p>{{ car.transmission }}</p>
                </div>
                <div class="form-group">
                    <label>Detail Mesin</label>
                    <p>{{ car.engine }}</p>
                </div>
            </div>
        </div>

        <div class="form-section">
            <h2>Kondisi & Legalitas</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label>Pemilik Sebelumnya (Tangan ke-)</label>
                    <p>{{ car.previous_owners }}</p>
                </div>
                <div class="form-group">
                    <label>Plat Nomor</label>
                    <p>{{ car.license_plate }}</p>
                </div>
                <div class="form-group">
                    <label>Pajak Berlaku Hingga</label>
                    <p>{{ car.tax_valid_until|date('d-m-Y') }}</p>
                </div>
                <div class="form-group">
                    <label>Bebas Banjir</label>
                    <p>{{ car.is_flood_free }}</p>
                </div>
                <div class="form-group">
                    <label>Bebas Tabrakan</label>
                    <p>{{ car.is_accident_free }}</p>
                </div>
                <div class="form-group">
                    <label>Hot Deal</label>
                    <p>{{ car.is_hot_deal }}</p>
                </div>
            </div>
        </div>

        <div class="form-section">
            <h2>Deskripsi Mobil</h2>
            <div class="form-group">
                <p>{{ car.description|raw }}</p>
            </div>
        </div>

        <!-- ✅ Tambahan Galeri Gambar -->
        <div class="form-section">
            <h2>Galeri Mobil</h2>
            {% if car.gallery is defined and car.gallery|length > 0 %}
                <div class="gallery-grid">
                    {% for item in car.gallery %}
                        <div class="gallery-item">
                           <img src="/{{ item.filename | url_encode }}" alt="Gambar Mobil" class="gallery-image">

                            {% if item.caption %}
                                <p class="caption">{{ item.caption }}</p>
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p>Belum ada gambar galeri yang ditambahkan.</p>
            {% endif %}
        </div>

    {% else %}
        <p class="no-data-message">Data mobil tidak ditemukan.</p>
    {% endif %}
</section>

{% include '_footer-admin.twig.html' %}
