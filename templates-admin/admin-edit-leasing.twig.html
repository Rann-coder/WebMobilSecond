{% set page_css = ['../css/css-admin/header.css', '../css/css-admin/admin-add-leasing.css', '../css/css-admin/footer.css'] %}

{% include '_header-admin.twig.html' %}

<header class="admin-header">
    <h1>Edit Mitra Leasing</h1>
    <div class="header-actions">
        <a href="admin-management.php" class="btn-secondary">Batal</a>
        <button type="submit" form="edit-leasing-form" class="btn-primary">Simpan Perubahan</button>
    </div>
</header>

<section class="admin-content">
    <form id="edit-leasing-form" action="update_leasing_process.php" method="POST">
        <input type="hidden" name="leasing_id" value="{{ leasing.id }}">

        <div class="form-section">
            <h2>Informasi Dasar Leasing</h2>
            <div class="form-grid">
                <div class="form-group span-2">
                    <label for="leasing-name">Nama Mitra Leasing</label>
                    <input type="text" id="leasing-name" name="leasing_name" value="{{ leasing.leasing_name }}" required>
                </div>
                <div class="form-group">
                    <label for="admin-fee">Biaya Administrasi (Rp)</label>
                    <input type="number" id="admin-fee" name="admin_fee" value="{{ leasing.admin_fee }}" required>
                </div>
                <div class="form-group">
                    <label for="is-active">Status</label>
                    <select id="is-active" name="is_active">
                        <option value="1" {% if leasing.is_active %}selected{% endif %}>Aktif</option>
                        <option value="0" {% if not leasing.is_active %}selected{% endif %}>Tidak Aktif</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="form-section">
            <h2>Aturan Down Payment (DP)</h2>
            <div class="form-grid grid-2-col">
                <div class="form-group">
                    <label for="min-dp">DP Minimal (%)</label>
                    <input type="number" id="min-dp" name="min_dp_percentage" step="0.01" value="{{ leasing.min_dp_percentage }}" required>
                </div>
                <div class="form-group">
                    <label for="max-dp">DP Maksimal (%)</label>
                    <input type="number" id="max-dp" name="max_dp_percentage" step="0.01" value="{{ leasing.max_dp_percentage }}" required>
                </div>
            </div>
        </div>

        <div class="form-section">
            <h2>Suku Bunga per Tahun (%)</h2>
            <div class="form-grid grid-5-col">
                <div class="form-group">
                    <label for="rate-1yr">Tenor 1 Tahun</label>
                    <input type="number" id="rate-1yr" name="interest_rate_1yr" step="0.01" value="{{ leasing.interest_rate_1yr }}" required>
                </div>
                <div class="form-group">
                    <label for="rate-2yr">Tenor 2 Tahun</label>
                    <input type="number" id="rate-2yr" name="interest_rate_2yr" step="0.01" value="{{ leasing.interest_rate_2yr }}" required>
                </div>
                <div class="form-group">
                    <label for="rate-3yr">Tenor 3 Tahun</label>
                    <input type="number" id="rate-3yr" name="interest_rate_3yr" step="0.01" value="{{ leasing.interest_rate_3yr }}" required>
                </div>
                <div class="form-group">
                    <label for="rate-4yr">Tenor 4 Tahun</label>
                    <input type="number" id="rate-4yr" name="interest_rate_4yr" step="0.01" value="{{ leasing.interest_rate_4yr }}" required>
                </div>
                <div class="form-group">
                    <label for="rate-5yr">Tenor 5 Tahun</label>
                    <input type="number" id="rate-5yr" name="interest_rate_5yr" step="0.01" value="{{ leasing.interest_rate_5yr }}" required>
                </div>
            </div>
        </div>
    </form>
</section>

{% include '_footer-admin.twig.html' %}
